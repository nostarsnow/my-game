!function(){function b(b,c,d){return a.Nostar.encrypt(b.toString(),a.enc.Latin1.parse(c),{iv:a.enc.Latin1.parse(d),mode:a.mode.CBC,padding:a.pad.Zero}).toString()}function cb(){Y=!0,N={w:.12*g,h:"auto",x:.07*g,animSpeed:.15,jumpSpeed:150,jumpStep:.1*-h,fallStep:.3*-h/500,jumpType:e.Ease.linear,fallType:e.Ease.linear},O={h:.17*h,mh:.2*h,oh:.17*h},P={w:1.03*g,h:h,speed:bgSpeed,action:!1,tip:"加速行进中。。。"},bb=new e.LoadQueue(!1,"./img/"),bb.loadManifest(c),bb.on("complete",ob)}function db(a){return bb.getResult(a)}function ib(){var a=$(window).width(),b=$(window).height();gb=b>a?!0:!1}function jb(){return ib(),Y?(setTimeout(function(){gb==fb?$("#xl_dialog").length>0&&1==hb&&($("#xl_dialog").remove(),hb=!1,_=!1):(_=!0,hb=!0,$log({title:"请不要在游戏过程中切换屏幕方式！！！<br>切换原屏幕方式自动继续游戏",go:function(){$tip("请不要在游戏过程中切换屏幕方式！",3e3)}}))},500),void 0):!1}function ob(){console.log("1.开始加载动画"),f.width=g,f.height=h,C.height(93*.2*g/69),kb=new e.Stage(f),e.Touch.enable(kb),e.Ticker.setFPS(60),e.Ticker.addEventListener("tick",Mb),lb=new e.Container,kb.addChild(lb),nb=new $b(M.beforeLoad+"0.00%","18px microsoft yahei","#fff",{w:g,h:30,x:.5*g,y:.2*h+"_center"}),mb=new Zb("man1",{w:N.w,h:N.h,x:"center",y:"center_"+nb.opts.h,begin:"run"},"man1_json"),Ub(),lb.addChild(nb,mb.mc),bb=new e.LoadQueue(!1,"./img/"),bb.installPlugin(e.Sound),bb.loadManifest(d),bb.on("fileload",pb),bb.on("complete",rb)}function pb(){nb.text=bb.progress<1?M.beforeLoad+eb.fix(100*bb.progress,2,!0)+"%":M.loaded}function qb(a,b){b=void 0===b?0:b,e.Sound.play(a,{loop:b})}function rb(){console.log("2.加载完成动画"),e.Tween.get(mb.mc).wait(L.waitTime).to({x:g},L.goAwaySpeed).call(tb)}function tb(){console.log("3.游戏开始界面"),lb.removeChild(nb),s.show(),o.addClass("current"),nb=null,sb=new Zb("man2",{w:N.w,h:N.h,y:"bottom_"+.07*h,x:"right_"+.1*g,begin:"begin"},"man1_json"),lb.removeChild(mb.mc),lb.addChild(mb.mc,sb.mc),e.Tween.get(mb.mc).to({x:-mb.opts.w,y:eb.cy("bottom_"+O.h,mb.opts.h)}).to({x:.1*g},700).call(function(){mb.mc.gotoAndStop("begin")},this),t.addClass("anim"),setTimeout(function(){u.addClass("anim").on(click,Pb)},300),setTimeout(function(){v.addClass("anim").on("click",function(){K.show(300)})},600),setTimeout(function(){w.addClass("anim").on("click",function(){D.trigger(click)})},900),e.Tween.get(sb.mc,{loop:!0}).to({y:sb.opts.y-20},250,e.Ease.circOut).to({y:sb.opts.y+20},250,e.Ease.circIn)}function ub(){console.log("4.游戏开始动画"),o.addClass("current"),t.removeClass("anim").addClass("anim_go"),setTimeout(function(){u.removeClass("anim").addClass("anim_go").off(click)},200),setTimeout(function(){v.removeClass("anim").addClass("anim_go").off("click")},400),setTimeout(function(){w.removeClass("anim").addClass("anim_go").off("click"),e.Tween.get(sb.mc).to({y:sb.opts.y},200,e.Ease.circOut).call(function(){sb.mc.gotoAndPlay("run")}).to({x:g},500).call(function(){mb.mc.gotoAndPlay("run"),e.Tween.get(mb.mc).to({x:g,y:sb.opts.y},1500).call(function(){Eb()},this),s.hide(1500)})},600)}function Db(){n.removeClass("current"),r.addClass("current");var a=.065*g+"px";x.style.lineHeight=a,y.style.lineHeight=a,W=!1,Q=[],R=[],V=!1,U=0,S=0,T=0}function Eb(){console.log("5.游戏开始"),Db(),vb=new e.Container,wb=new e.Container,xb=new Xb("bg1",{w:P.w,h:P.h,alpha:0}),yb=new Xb("bg1",{w:P.w,h:P.h,x:g}),zb=new Yb("gold",{w:.06*g,h:.06*g,x:g}),Ab=new Yb("obs",{w:"auto",h:.2*h,x:g}),tipBox=new e.Container,lb.addChild(xb,yb,vb,wb,tipBox,mb.mc),Fb()}function Fb(){var a,b,c;mb.mc.gotoAndPlay("run"),mb.opts.y=eb.cy("bottom_"+O.mh,mb.opts.h),e.Tween.get(xb).to({alpha:1},300),void 0===localStorage[active+"_tip"]?(tipBox.alpha=0,a=new e.Shape,a.graphics.f("rgba(0,0,0,.5)").dr(0,0,g,h),b=new $b("长按可控制跳跃和幅度","20px bold","#fff",{x:"right_30",y:"bottom_30",align:"left",baseline:"top"}),c=new Xb("hand",{w:"auto",h:.2*h,x:"right_"+(b.opts.w+40),y:"bottom"}),tipBox.addChild(a,c,b),localStorage[active+"_tip"]=1,e.Tween.get(tipBox).wait(200).to({alpha:1},300),e.Tween.get(mb.mc).to({x:-mb.opts.w,y:mb.opts.y}).to({x:N.x},500).call(function(){mb.mc.gotoAndPlay("jump"),e.Tween.get(mb.mc).to({y:.2*h},700).call(function(){mb.mc.gotoAndPlay("fall"),e.Tween.get(mb.mc).to({y:mb.opts.y},700).call(function(){mb.mc.gotoAndPlay("run"),e.Tween.get(tipBox).to({alpha:0},300).call(function(){lb.removeChild(tipBox),tipBox=a=c=b=null}),Hb()})})})):(lb.removeChild(tipBox),e.Tween.get(mb.mc).to({x:-mb.opts.w,y:mb.opts.y}).to({x:N.x},500).call(Hb))}function Gb(){xb.x=0,yb.x=g,xb.alpha=0,Q=[],R=[],vb.removeAllChildren(),wb.removeAllChildren(),n.removeClass("current"),r.addClass("current"),$(f).show(),mb.jump=mb.fall=!1,P.speed=bgSpeed,U=0,S=0,T=0,W=!1,_=!1,V=!1,x.innerHTML=0,y.innerHTML=0,Fb()}function Hb(){V=!0,P.frame=1e3*g/60,Bb=[.6,.7,.8,.9,1],Cb=Bb.length,P.goldMx=g+zb.opts.w,P.goldFrame=1e3*P.goldMx/60,P.obsMx=g+Ab.opts.w,P.obsFrame=1e3*P.obsMx/60,mb.jump=mb.fall=!1,Jb(),lb.on("mousedown",Ib),lb.on("pressup",Kb)}function Ib(){return mb.jump||mb.fall?!1:(qb("jump"),mb.jump=!0,mb.mc.gotoAndPlay("jump"),void 0)}function Jb(){mb.mc.on("tick",function(){return _?!1:(mb.jump&&(mb.mc.y-=.01*h,mb.mc.y<.1*h&&Kb()),mb.fall&&(mb.mc.y+=.01*h,mb.mc.y>mb.opts.y&&(mb.mc.y=mb.opts.y,Lb())),void 0)})}function Kb(){mb.jump=!1,mb.fall=!0,mb.mc.gotoAndPlay("fall")}function Lb(){mb.jump=mb.fall=!1,mb.mc.gotoAndPlay("run")}function Mb(){var a,b,c;if(kb.update(),!V||_)return!1;if(!W){for(a=0,b=R.length;b>a;a++)!function(a){var b=R[a];!b.hited&&collCheck.rect(b,mb.mc)&&(qb("coin"),b.hited=!0,y.innerHTML=++U,e.Tween.removeTweens(b),e.Tween.get(b).to({y:b.y-30,alpha:0},200).call(function(){R.splice($.inArray(b,R),1),wb.removeChild(b)}))}(a);for(a=0,b=Q.length;b>a;a++)!function(a){var b=Q[a];collCheck.px(b,mb.mc)&&(qb("die"),lb.removeAllEventListeners(),_=!0,e.Tween.get(b).to({alpha:.5},200).to({alpha:1},200).loop=!0,clearInterval(mb.jumpingInterVal),mb.mc.gotoAndPlay("lose"),W=!0,setTimeout(function(){Ob()},1200))}(a)}xb.chx=eb.fix(xb.x-P.frame/P.speed),xb.chx<-g&&(xb.chx=g),xb.x=xb.chx,yb.chx=eb.fix(yb.x-P.frame/P.speed),yb.chx<-g&&(yb.chx=g),yb.x=yb.chx,T=~~(++S/60),x.innerHTML=T,c=P.speed,T>200?(obsPercent=.02,coinPercent=.04,P.speed=1e3):T>150?P.speed=1250:T>100?P.speed=1500:T>70?P.speed=1750:T>40?P.speed=2e3:T>20?P.speed=2250:T>10&&(P.speed=2500),c!=P.speed&&qb("site"),Nb()}function Nb(){var b,c,d,e,f,g,a=Math.random();return a>coinPercent?!1:(b=Math.random(),.15>b&&(b=.15),b>.55&&(b=.55),c=zb.clone(),d=R.push(c)-1,R[d].y=h*b,R[d].hited=!1,wb.addChild(R[d]),R[d].on("tick",function(){return _?!1:(this.x-=eb.fix(P.goldFrame/P.speed),this.x<-P.goldMx&&(R.splice($.inArray(this,R),1),wb.removeChild(this)),void 0)}),a>obsPercent&&(e=(new Date).getTime(),e-ab>P.speed/10&&(f=Math.floor(Math.random()*Cb),g=Ab.clone(),c=zb.clone(),d=Q.push(g)-1,Q[d].scaleX=Ab.opts.sx*Bb[f],Q[d].scaleY=Ab.opts.sy*Bb[f],Q[d].y=eb.cy("bottom_"+O.oh,Ab.opts.h*Bb[f]),vb.addChild(g),Q[d].on("tick",function(){return _?!1:(this.x-=eb.fix(P.obsFrame/P.speed),this.x<-P.obsMx&&(Q.splice($.inArray(this,Q),1),vb.removeChild(this)),void 0)})),ab=e),void 0)}function Ob(a){a?(console.log("7.游戏结束！"),C.addClass("win")):C.addClass("lose"),U>myBestScore?(Rb(),myBestScore=U,numberTo(J,myBestScore,25)):J.html(myBestScore),window.share.desc="酷跑青春，不玩才怪！我在万达酷跑活动中获得了"+U+"个金币！不服？来战！",_=!0,mb.mc.removeAllEventListeners(),e.Tween.removeAllTweens(),$(f).hide(),n.removeClass("current"),p.addClass("current"),numberTo(I,U,25)}function Pb(){return reged?(Qb(),void 0):($log({title:" ",conn:'<label class="in_ic40"><span class="l"><i class="fa fa-user"></i></span><span class="r"><input type="text" placeholder="请输入姓名" id="name" name="name" maxlength="12"/></span></label><label class="in_ic40"><span class="l"><i class="fa fa-mobile"></i></span><span class="r"><input type="tel" placeholder="请输入手机号码" id="tel" name="tel" maxlength="11"/></span></label>',go:function(){var a=$("#name").val(),b=$("#tel").val();return check.name(a)?check.tel(b)?ajaxLock?!1:(load(),$.ajax({url:check.ajaxUrl+"?xl_r="+Math.random().toFixed(3),type:check.ajaxType,data:{action:"reg",name:a,active:active,tel:b,openid:openid},dataType:check.ajaxDataType,success:function(c){0==c.errcode?(myName=a,myTel=b,reged=!0,Sb(!0)):$tip(c.errmsg),ajaxLock=!1,load_h()},error:function(){ajaxLock=!1,load_h(),$tip(check.ajaxError)}}),void 0):!1:!1}}),void 0)}function Qb(){return ajaxLock?!1:(ajaxLock=!0,load(),$.ajax({url:check.ajaxUrl+"?xl_r="+Math.random().toFixed(3),type:check.ajaxType,data:{action:"checkTimes",active:active,openid:openid},dataType:check.ajaxDataType,success:function(a){console.log(a),0==a.errcode?(n.removeClass("current"),reged&&S>0?Gb():ub()):$tip(a.errmsg),ajaxLock=!1,load_h()},error:function(){ajaxLock=!1,load_h(),$tip(check.ajaxError)}}),void 0)}function Rb(){enKey&&enIv&&(load(),$.ajax({url:check.ajaxUrl+"?xl_r="+Math.random().toFixed(3),type:check.ajaxType,dataType:check.ajaxDataType,data:{action:"addDetail",active:active,openid:openid,score:b(U,enKey,enIv),time:b(T,enKey,enIv)},success:function(a){console.log(a),0==a.errcode&&Sb()},error:function(){$tip(check.ajaxError),ajaxLock=0}}))}function Sb(a){$.ajax({type:check.ajaxType,url:check.ajaxUrl+"?xl_r="+Math.random().toFixed(3),data:{action:"queryInfo",active:active,openid:openid,info:7777},dataType:check.ajaxDataType,success:function(b){console.log(b),0==b.errcode?(a?($tip("注册成功！"),$("#xl_dialog").remove(),Pb()):$tip("更新成功！"),enKey=b.key,enIv=b.iv,H.html(b.rank),J.html(b.score),myBestScore=b.score):$tip(b.errmsg),load_h()},error:function(){$tip(check.ajaxError)}})}function Tb(){return ajaxLock?!1:(ajaxLock=!0,load(),$.ajax({url:check.ajaxUrl+"?xl_r="+Math.random().toFixed(3),type:"POST",dataType:check.ajaxDataType,data:{action:"queryList",pageIndex:i,pageSize:j,active:active},success:function(a){var b,c,d,e;if(load_h(),ajaxLock=!1,console.log(a),0==a.errcode)if(ajaxLock=!1,b=a.list,c=b.length,d="",c>0){for(i++,e=0;c>e;e++)k++,d+='<li><span class="rank_num">'+k+'</span><span class="rank_name">'+b[e].name+'</span><span class="rank_score">'+(b[e].score||0)+"</span></li>";G.append(d)}else l=!0},error:function(){ajaxLock=!1,load_h(),$tip(check.ajaxError)}}),void 0)}function Ub(){z.on(click,function(){A.show(),_=!0}),B.on("click",function(){A.hide(),_=!1}),D.on(click,function(){n.removeClass("current"),q.addClass("current"),G.empty(),i=1,l=!1,k=0,Tb()}),E.on(click,function(){(!reged||1>S)&&(n.removeClass("current"),o.addClass("current")),Pb()}),F.scroll(function(){!l&&!ajaxLock&&G.height()-F.height()-F.scrollTop()<20&&Tb()}),K.on("click",function(){K.hide(300)}),$(".rank_title").on(click,function(){localStorage.removeItem(active+"_tip")})}function Xb(a,b){var f,i,j,c=db(a),d=!1;return void 0!==b.id?(d=!0,b.img=c.file.split(".")[0],a=db(b.img),b.img=a,b.opt=c.frames[b.id]):(a=c,b.img=a),f={x:0,y:0,sW:g,sH:h,sx:1,sy:1,repeat:"no-repeat",regX:0,regY:0,alpha:1,rotation:0},d?(f.bw=b.opt.w,f.bh=b.opt.h,f.tx=-b.opt.x,f.ty=-b.opt.y):(f.bw=a.width,f.bh=a.height,f.tx=0,f.ty=0),b=void 0===b?f:$.extend(f,b),void 0==b.w?b.w=b.bw:"auto"==b.w&&(b.w=eb.fix(b.bw*b.h/b.bh)),void 0==b.h?b.h=b.bh:"auto"==b.h&&(b.h=eb.fix(b.bh*b.w/b.bw)),isNaN(b.x)&&((i=/(right)_*(.*)/.exec(b.x))?b.x=eb.fix(b.sW-b.w-Math.round(i[2])):(i=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(b.x))&&(b.x=eb.fix((b.sW-b.w)/2+Math.round(i[1])-Math.round(i[3])))),isNaN(b.y)&&((i=/(bottom)_*(.*)/.exec(b.y))?b.y=eb.fix(b.sH-b.h-Math.round(i[2])):(i=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(b.y))&&(b.y=eb.fix((b.sH-b.h)/2+Math.round(i[1])-Math.round(i[3])))),isNaN(b.regX)&&(b.regX=b.bw*eb.int(b.regX)/100,b.x+=b.regX),isNaN(b.regY)&&(b.regY=b.bh*eb.int(b.regY)/100,b.y+=b.regY),b.bsx=eb.fix(b.w/b.bw),b.bsy=eb.fix(b.h/b.bh),b.tx=eb.fix(b.tx*b.bsx),b.ty=eb.fix(b.ty*b.bsy),j=new e.Shape,j.opts=b,j.graphics.bf(b.img,b.repeat,new e.Matrix2D(b.bsx,0,0,b.bsy,b.tx,b.ty)).dr(0,0,b.w,b.h),j.x=b.x,j.y=b.y,j.regX=b.regX,j.regY=b.regY,j.rotation=b.rotation,j.alpha=b.alpha,j.scaleX=b.sx,j.scaleY=b.sy,j}function Yb(a,b){var c,d,f;return a=db(a),b.img=a,c={x:0,y:0,sW:g,sH:h,regX:0,regY:0,alpha:1,rotation:0},c.bw=a.width,c.bh=a.height,b=void 0===b?c:$.extend(c,b),void 0==b.w?b.w=b.bw:"auto"==b.w&&(b.w=eb.fix(b.bw*b.h/b.bh)),void 0==b.h?b.h=b.bh:"auto"==b.h&&(b.h=eb.fix(b.bh*b.w/b.bw)),isNaN(b.x)&&((d=/(right)_*(.*)/.exec(b.x))?b.x=eb.fix(b.sW-b.w-Math.round(d[2])):(d=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(b.x))&&(b.x=eb.fix((b.sW-b.w)/2+Math.round(d[1])-Math.round(d[3])))),isNaN(b.y)&&((d=/(bottom)_*(.*)/.exec(b.y))?b.y=eb.fix(b.sH-b.h-Math.round(d[2])):(d=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(b.y))&&(b.y=eb.fix((b.sH-b.h)/2+Math.round(d[1])-Math.round(d[3])))),isNaN(b.regX)&&(b.regX=b.bw*eb.int(b.regX)/100,b.x+=b.regX),isNaN(b.regY)&&(b.regY=b.bh*eb.int(b.regY)/100,b.y+=b.regY),b.sx=b.sx||eb.fix(b.w/b.bw),b.sy=b.sy||eb.fix(b.h/b.bh),f=new e.Bitmap(b.img),f.opts=b,f.setTransform(b.x,b.y,b.sx,b.sy,b.rotation,0,0,b.regX,b.regY),f.alpha=b.alpha,f}function Zb(a,b,c){var f,i,j,d=!1;return void 0!==c&&(d=!0,c=db(c)[a]),a=db(a),f={bw:a.width,bh:a.height,sW:g,sH:h,x:0,y:0,regX:0,regY:0,alpha:1,framerate:30,rotation:0,begin:""},d&&(f.frames=c.frames,f.animations=c.animations,f.bw=c.frames.width,f.bh=c.frames.height),b=void 0===b?f:$.extend(f,b),b.img=a,void 0==b.w?b.w=b.bw:"auto"==b.w&&(b.w=eb.fix(b.bw*b.h/b.bh)),void 0==b.h?b.h=b.bh:"auto"==b.h&&(b.h=eb.fix(b.bh*b.w/b.bw)),isNaN(b.x)&&((i=/(right)_*(.*)/.exec(b.x))?b.x=eb.fix(b.sW-b.w-Math.round(i[2])):(i=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(b.x))&&(b.x=eb.fix((b.sW-b.w)/2+Math.round(i[1])-Math.round(i[3])))),isNaN(b.y)&&((i=/(bottom)_*(.*)/.exec(b.y))?b.y=eb.fix(b.sH-b.h-Math.round(i[2])):(i=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(b.y))&&(b.y=eb.fix((b.sH-b.h)/2+Math.round(i[1])-Math.round(i[3])))),isNaN(b.regX)&&(b.regX=b.bw*eb.num(b.regX)/100,b.x+=b.regX),isNaN(b.regY)&&(b.regY=b.bh*eb.num(b.regY)/100,b.y+=b.regY),b.sx=eb.fix(b.w/b.bw)||1,b.sy=eb.fix(b.h/b.bh)||1,j={},j.opts=b,j.spriteSheet=new e.SpriteSheet({images:[b.img],frames:b.frames,animations:b.animations}),j.mc=new e.Sprite(j.spriteSheet,b.begin),j.mc.setTransform(b.x,b.y,b.sx,b.sy,b.rotation,0,0,b.regX,b.regY).framerate=b.framerate,j.mc.alpha=b.alpha,this.set=function(){console.log(this)},j}function $b(a,b,c,d){var i,j,f={align:"center",baseline:"middle",outline:0,rotation:0,sW:g,sH:h,x:0,y:0,sx:1,sy:1,regX:0,regY:0,alpha:1};return d=void 0===d?f:$.extend(f,d),i=new e.Text(a,b,c),void 0==d.w&&(d.w=i.getBounds().width),void 0==d.h&&(d.h=i.getBounds().height),isNaN(d.x)&&((j=/(right)_*(.*)/.exec(d.x))?d.x=eb.fix(d.sW-d.w-Math.round(j[2])):(j=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(d.x))&&(d.x=eb.fix((d.sW-d.w)/2+Math.round(j[1])-Math.round(j[3])))),isNaN(d.y)&&((j=/(bottom)_*(.*)/.exec(d.y))?d.y=eb.fix(d.sH-d.h-Math.round(j[2])):(j=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(d.y))&&(d.y=eb.fix((d.sH-d.h)/2+Math.round(j[1])-Math.round(j[3])))),isNaN(d.regX)&&(d.regX=d.bw*eb.num(d.regX)/100,d.x+=d.regX),isNaN(d.regY)&&(d.regY=d.bh*eb.num(d.regY)/100,d.y+=d.regY),i.opts=d,i.lineWidth=d.w,i.lineHeight=d.h,i.regX=d.regX,i.regY=d.regY,i.x=d.x,i.y=d.y,i.scaleX=d.sx,i.scaleY=d.sy,i.textAlign=d.align,i.textBaseline=d.baseline,i.outline=d.outline,i.alpha=d.alpha,i}var g,h,N,O,P,bb,c,d,e,f,i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,Q,R,S,T,U,V,W,Y,_,ab,eb,fb,gb,hb,kb,lb,mb,nb,sb,vb,wb,xb,yb,zb,Ab,Cb,Bb,Vb,Wb,a=a||function(a,b){var l,c={},d=c.lib={},e=d.Base=function(){function a(){}return{extend:function(b){a.prototype=this;var c=new a;return b&&c.mixIn(b),c.$super=this,c},create:function(){var a=this.extend();return a.init.apply(a,arguments),a},init:function(){},mixIn:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function(){return this.$super.extend(this)}}}(),f=d.WordArray=e.extend({init:function(a,c){a=this.words=a||[],this.sigBytes=c!=b?c:4*a.length},toString:function(a){return(a||h).stringify(this)},concat:function(a){var e,b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(e=0;a>e;e++)b[d+e>>>2]|=(255&c[e>>>2]>>>24-8*(e%4))<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;a>e;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function(){var b=this.words,c=this.sigBytes;b[c>>>2]&=4294967295<<32-8*(c%4),b.length=a.ceil(c/4)},clone:function(){var a=e.clone.call(this);return a.words=this.words.slice(0),a},random:function(b){for(var c=[],d=0;b>d;d+=4)c.push(0|4294967296*a.random());return f.create(c,b)}}),g=c.enc={},h=g.Hex={stringify:function(a){var b,c,d,e;for(b=a.words,a=a.sigBytes,c=[],d=0;a>d;d++)e=255&b[d>>>2]>>>24-8*(d%4),c.push((e>>>4).toString(16)),c.push((15&e).toString(16));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return f.create(c,b/2)}},i=g.Latin1={stringify:function(a){for(var b=a.words,a=a.sigBytes,c=[],d=0;a>d;d++)c.push(String.fromCharCode(255&b[d>>>2]>>>24-8*(d%4)));return c.join("")},parse:function(a){for(var b=a.length,c=[],d=0;b>d;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return f.create(c,b)}},j=g.Utf8={stringify:function(a){try{return decodeURIComponent(escape(i.stringify(a)))}catch(b){throw Error("Malformed UTF-8 data")}},parse:function(a){return i.parse(unescape(encodeURIComponent(a)))}},k=d.BufferedBlockAlgorithm=e.extend({reset:function(){this._data=f.create(),this._nDataBytes=0},_append:function(a){"string"==typeof a&&(a=j.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function(b){var i,c=this._data,d=c.words,e=c.sigBytes,g=this.blockSize,h=e/(4*g);if(h=b?a.ceil(h):a.max((0|h)-this._minBufferSize,0),b=h*g,e=a.min(4*b,e),b){for(i=0;b>i;i+=g)this._doProcessBlock(d,i);i=d.splice(0,b),c.sigBytes-=e}return f.create(i,e)},clone:function(){var a=e.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});return d.Hasher=k.extend({init:function(){this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(a){return this._append(a),this._process(),this},finalize:function(a){return a&&this._append(a),this._doFinalize(),this._hash},clone:function(){var a=k.clone.call(this);return a._hash=this._hash.clone(),a},blockSize:16,_createHelper:function(a){return function(b,c){return a.create(c).finalize(b)}},_createHmacHelper:function(a){return function(b,c){return l.HMAC.create(a,c).finalize(b)}}}),l=c.algo={},c}(Math);!function(){var b=a,c=b.lib.WordArray;b.enc.Base64={stringify:function(a){var e,f,g,b=a.words,c=a.sigBytes,d=this._map;for(a.clamp(),a=[],e=0;c>e;e+=3)for(f=(255&b[e>>>2]>>>24-8*(e%4))<<16|(255&b[e+1>>>2]>>>24-8*((e+1)%4))<<8|255&b[e+2>>>2]>>>24-8*((e+2)%4),g=0;4>g&&c>e+.75*g;g++)a.push(d.charAt(63&f>>>6*(3-g)));if(b=d.charAt(64))for(;a.length%4;)a.push(b);return a.join("")},parse:function(a){var b,d,e,f,g,h,i;for(a=a.replace(/\s/g,""),b=a.length,d=this._map,e=d.charAt(64),e&&(e=a.indexOf(e),-1!=e&&(b=e)),e=[],f=0,g=0;b>g;g++)g%4&&(h=d.indexOf(a.charAt(g-1))<<2*(g%4),i=d.indexOf(a.charAt(g))>>>6-2*(g%4),e[f>>>2]|=(h|i)<<24-8*(f%4),f++);return c.create(e,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(b){function c(a,b,c,d,e,f,g){return a=a+(b&c|~b&d)+e+g,(a<<f|a>>>32-f)+b}function d(a,b,c,d,e,f,g){return a=a+(b&d|c&~d)+e+g,(a<<f|a>>>32-f)+b}function e(a,b,c,d,e,f,g){return a=a+(b^c^d)+e+g,(a<<f|a>>>32-f)+b}function f(a,b,c,d,e,f,g){return a=a+(c^(b|~d))+e+g,(a<<f|a>>>32-f)+b}var g=a,h=g.lib,i=h.WordArray,h=h.Hasher,j=g.algo,k=[];!function(){for(var a=0;64>a;a++)k[a]=0|4294967296*b.abs(b.sin(a+1))}(),j=j.MD5=h.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(a,b){var g,h,i,j,l,m;for(g=0;16>g;g++)h=b+g,i=a[h],a[h]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);for(h=this._hash.words,i=h[0],j=h[1],l=h[2],m=h[3],g=0;64>g;g+=4)16>g?(i=c(i,j,l,m,a[b+g],7,k[g]),m=c(m,i,j,l,a[b+g+1],12,k[g+1]),l=c(l,m,i,j,a[b+g+2],17,k[g+2]),j=c(j,l,m,i,a[b+g+3],22,k[g+3])):32>g?(i=d(i,j,l,m,a[b+(g+1)%16],5,k[g]),m=d(m,i,j,l,a[b+(g+6)%16],9,k[g+1]),l=d(l,m,i,j,a[b+(g+11)%16],14,k[g+2]),j=d(j,l,m,i,a[b+g%16],20,k[g+3])):48>g?(i=e(i,j,l,m,a[b+(3*g+5)%16],4,k[g]),m=e(m,i,j,l,a[b+(3*g+8)%16],11,k[g+1]),l=e(l,m,i,j,a[b+(3*g+11)%16],16,k[g+2]),j=e(j,l,m,i,a[b+(3*g+14)%16],23,k[g+3])):(i=f(i,j,l,m,a[b+3*g%16],6,k[g]),m=f(m,i,j,l,a[b+(3*g+7)%16],10,k[g+1]),l=f(l,m,i,j,a[b+(3*g+14)%16],15,k[g+2]),j=f(j,l,m,i,a[b+(3*g+5)%16],21,k[g+3]));h[0]=0|h[0]+i,h[1]=0|h[1]+j,h[2]=0|h[2]+l,h[3]=0|h[3]+m},_doFinalize:function(){var a=this._data,b=a.words,c=8*this._nDataBytes,d=8*a.sigBytes;for(b[d>>>5]|=128<<24-d%32,b[(d+64>>>9<<4)+14]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),a.sigBytes=4*(b.length+1),this._process(),a=this._hash.words,b=0;4>b;b++)c=a[b],a[b]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}}),g.MD5=h._createHelper(j),g.HmacMD5=h._createHmacHelper(j)}(Math),function(){var b=a,c=b.lib,d=c.Base,e=c.WordArray,c=b.algo,f=c.EvpKDF=d.extend({cfg:d.extend({keySize:4,hasher:c.MD5,iterations:1}),init:function(a){this.cfg=this.cfg.extend(a)},compute:function(a,b){var c,d,f,g,h,i,j;for(c=this.cfg,d=c.hasher.create(),f=e.create(),g=f.words,h=c.keySize,c=c.iterations;g.length<h;){for(i&&d.update(i),i=d.update(a).finalize(b),d.reset(),j=1;c>j;j++)i=d.finalize(i),d.reset();f.concat(i)}return f.sigBytes=4*h,f}});b.EvpKDF=function(a,b,c){return f.create(c).compute(a,b)}}(),a.lib.Cipher||function(b){var k,l,m,n,o,p,c=a,d=c.lib,e=d.Base,f=d.WordArray,g=d.BufferedBlockAlgorithm,h=c.enc.Base64,i=c.algo.EvpKDF,j=d.Cipher=g.extend({cfg:e.extend(),createEncryptor:function(a,b){return this.create(this._ENC_XFORM_MODE,a,b)},createDecryptor:function(a,b){return this.create(this._DEC_XFORM_MODE,a,b)},init:function(a,b,c){this.cfg=this.cfg.extend(c),this._xformMode=a,this._key=b,this.reset()},reset:function(){g.reset.call(this),this._doReset()},process:function(a){return this._append(a),this._process()},finalize:function(a){return a&&this._append(a),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){return function(a){return{encrypt:function(b,c,d){return("string"==typeof c?p:o).encrypt(a,b,c,d)},decrypt:function(b,c,d){return("string"==typeof c?p:o).decrypt(a,b,c,d)}}}}()});d.StreamCipher=j.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),k=c.mode={},l=d.BlockCipherMode=e.extend({createEncryptor:function(a,b){return this.Encryptor.create(a,b)},createDecryptor:function(a,b){return this.Decryptor.create(a,b)},init:function(a,b){this._cipher=a,this._iv=b}}),k=k.CBC=function(){function a(a,c,d){var f,e=this._iv;for(e?this._iv=b:e=this._prevBlock,f=0;d>f;f++)a[c+f]^=e[f]}var c=l.extend();return c.Encryptor=c.extend({processBlock:function(b,c){var d=this._cipher,e=d.blockSize;a.call(this,b,c,e),d.encryptBlock(b,c),this._prevBlock=b.slice(c,c+e)}}),c.Decryptor=c.extend({processBlock:function(b,c){var d=this._cipher,e=d.blockSize,f=b.slice(c,c+e);d.decryptBlock(b,c),a.call(this,b,c,e),this._prevBlock=f}}),c}(),m=(c.pad={}).Pkcs7={pad:function(a,b){for(var c=4*b,c=c-a.sigBytes%c,d=c<<24|c<<16|c<<8|c,e=[],g=0;c>g;g+=4)e.push(d);c=f.create(e,c),a.concat(c)},unpad:function(a){a.sigBytes-=255&a.words[a.sigBytes-1>>>2]}},d.BlockCipher=j.extend({cfg:j.cfg.extend({mode:k,padding:m}),reset:function(){var a,b,c;j.reset.call(this),a=this.cfg,b=a.iv,a=a.mode,this._xformMode==this._ENC_XFORM_MODE?c=a.createEncryptor:(c=a.createDecryptor,this._minBufferSize=1),this._mode=c.call(a,this,b&&b.words)},_doProcessBlock:function(a,b){this._mode.processBlock(a,b)},_doFinalize:function(){var b,a=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(a.pad(this._data,this.blockSize),b=this._process(!0)):(b=this._process(!0),a.unpad(b)),b},blockSize:4}),n=d.CipherParams=e.extend({init:function(a){this.mixIn(a)},toString:function(a){return(a||this.formatter).stringify(this)}}),k=(c.format={}).OpenSSL={stringify:function(a){var b=a.ciphertext,a=a.salt,b=(a?f.create([1398893684,1701076831]).concat(a).concat(b):b).toString(h);return b=b.replace(/(.{64})/g,"$1\n")},parse:function(a){var b,c;return a=h.parse(a),b=a.words,1398893684==b[0]&&1701076831==b[1]&&(c=f.create(b.slice(2,4)),b.splice(0,4),a.sigBytes-=16),n.create({ciphertext:a,salt:c})}},o=d.SerializableCipher=e.extend({cfg:e.extend({format:k}),encrypt:function(a,b,c,d){var d=this.cfg.extend(d),e=a.createEncryptor(c,d),b=e.finalize(b),e=e.cfg;return n.create({ciphertext:b,key:c,iv:e.iv,algorithm:a,mode:e.mode,padding:e.padding,blockSize:a.blockSize,formatter:d.format})},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),a.createDecryptor(c,d).finalize(b.ciphertext)},_parse:function(a,b){return"string"==typeof a?b.parse(a):a}}),c=(c.kdf={}).OpenSSL={compute:function(a,b,c,d){return d||(d=f.random(8)),a=i.create({keySize:b+c}).compute(a,d),c=f.create(a.words.slice(b),4*c),a.sigBytes=4*b,n.create({key:a,iv:c,salt:d})}},p=d.PasswordBasedCipher=o.extend({cfg:o.cfg.extend({kdf:c}),encrypt:function(a,b,c,d){return d=this.cfg.extend(d),c=d.kdf.compute(c,a.keySize,a.ivSize),d.iv=c.iv,a=o.encrypt.call(this,a,b,c.key,d),a.mixIn(c),a},decrypt:function(a,b,c,d){return d=this.cfg.extend(d),b=this._parse(b,d.format),c=d.kdf.compute(c,a.keySize,a.ivSize,b.salt),d.iv=c.iv,o.decrypt.call(this,a,b,c.key,d)}})}(),function(){var o,b=a,c=b.lib.BlockCipher,d=b.algo,e=[],f=[],g=[],h=[],i=[],j=[],k=[],l=[],m=[],n=[];!function(){var a,b,c,d,o,p,q,r,s;for(a=[],b=0;256>b;b++)a[b]=128>b?b<<1:283^b<<1;for(c=0,d=0,b=0;256>b;b++)o=d^d<<1^d<<2^d<<3^d<<4,o=99^(o>>>8^255&o),e[c]=o,f[o]=c,p=a[c],q=a[p],r=a[q],s=257*a[o]^16843008*o,g[c]=s<<24|s>>>8,h[c]=s<<16|s>>>16,i[c]=s<<8|s>>>24,j[c]=s,s=16843009*r^65537*q^257*p^16843008*c,k[o]=s<<24|s>>>8,l[o]=s<<16|s>>>16,m[o]=s<<8|s>>>24,n[o]=s,c?(c=p^a[a[a[r^p]]],d^=a[a[d]]):c=d=1}(),o=[0,1,2,4,8,16,32,64,128,27,54],d=d.Nostar=c.extend({_doReset:function(){var a,b,c,d,f,g;for(a=this._key,b=a.words,c=a.sigBytes/4,a=4*((this._nRounds=c+6)+1),d=this._keySchedule=[],f=0;a>f;f++)c>f?d[f]=b[f]:(g=d[f-1],f%c?c>6&&4==f%c&&(g=e[g>>>24]<<24|e[255&g>>>16]<<16|e[255&g>>>8]<<8|e[255&g]):(g=g<<8|g>>>24,g=e[g>>>24]<<24|e[255&g>>>16]<<16|e[255&g>>>8]<<8|e[255&g],g^=o[0|f/c]<<24),d[f]=d[f-c]^g);for(b=this._invKeySchedule=[],c=0;a>c;c++)f=a-c,g=c%4?d[f]:d[f-4],b[c]=4>c||4>=f?g:k[e[g>>>24]]^l[e[255&g>>>16]]^m[e[255&g>>>8]]^n[e[255&g]]},encryptBlock:function(a,b){this._doCryptBlock(a,b,this._keySchedule,g,h,i,j,e)},decryptBlock:function(a,b){var c=a[b+1];a[b+1]=a[b+3],a[b+3]=c,this._doCryptBlock(a,b,this._invKeySchedule,k,l,m,n,f),c=a[b+1],a[b+1]=a[b+3],a[b+3]=c},_doCryptBlock:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r;for(i=this._nRounds,j=a[b]^c[0],k=a[b+1]^c[1],l=a[b+2]^c[2],m=a[b+3]^c[3],n=4,o=1;i>o;o++)p=d[j>>>24]^e[255&k>>>16]^f[255&l>>>8]^g[255&m]^c[n++],q=d[k>>>24]^e[255&l>>>16]^f[255&m>>>8]^g[255&j]^c[n++],r=d[l>>>24]^e[255&m>>>16]^f[255&j>>>8]^g[255&k]^c[n++],m=d[m>>>24]^e[255&j>>>16]^f[255&k>>>8]^g[255&l]^c[n++],j=p,k=q,l=r;p=(h[j>>>24]<<24|h[255&k>>>16]<<16|h[255&l>>>8]<<8|h[255&m])^c[n++],q=(h[k>>>24]<<24|h[255&l>>>16]<<16|h[255&m>>>8]<<8|h[255&j])^c[n++],r=(h[l>>>24]<<24|h[255&m>>>16]<<16|h[255&j>>>8]<<8|h[255&k])^c[n++],m=(h[m>>>24]<<24|h[255&j>>>16]<<16|h[255&k>>>8]<<8|h[255&l])^c[n++],a[b]=p,a[b+1]=q,a[b+2]=r,a[b+3]=m},keySize:8}),b.Nostar=c._createHelper(d)}(),a.SnowKey=a.enc.Latin1.parse("myLittleSnow0707"),a.SnowIv=a.enc.Latin1.parse("ohMyDearILoveYou"),a.pad.Zero={pad:function(a,b){var c=4*b;a.clamp(),a.sigBytes+=c-(a.sigBytes%c||c)},unpad:function(a){for(var b=a.words,c=a.sigBytes-1;!(255&b[c>>>2]>>>24-8*(c%4));)c--;a.sigBytes=c+1}},c=[{id:"man1",src:"man1.png"},{id:"man1_json",src:"man1.json"}],d=[{id:"bg",src:"bg.jpg"},{id:"man1_json",src:"man1.json"},{id:"t1",src:"t1.png"},{id:"btn_go",src:"btn_go.png"},{id:"btn_rank_i",src:"btn_rank_i.png"},{id:"btn_rule",src:"btn_rule.png"},{id:"man2",src:"man2.png"},{id:"bg1",src:"bg1.jpg"},{id:"gold",src:"gold.png"},{id:"obs",src:"obs.png"},{id:"hand",src:"hand.png"},{id:"timeBg",src:"timeBg.png"},{id:"coinBg",src:"coinBg.png"},{id:"btn_pause",src:"btn_pause.png"},{id:"coin",src:"mp3/coin.mp3"},{id:"die",src:"mp3/die.mp3"},{id:"site",src:"mp3/site.mp3"},{id:"jump",src:"mp3/jump.mp3"},{id:"suc",src:"mp3/suc.mp3"}],e=createjs,f=document.getElementById("canvas"),i=1,j=50,k=0,l=!1,$("#main"),n=$(".page"),o=$(".page1"),p=$(".page2"),q=$(".page3"),r=$(".page4"),s=$(".bg"),t=$(".t1"),u=$(".btn_go"),v=$(".btn_rule"),w=$(".btn_rank_i"),x=$("#TIME")[0],y=$("#SCORE")[0],z=$(".btn_pause"),A=$(".pause"),B=A.find(".fa"),C=$(".man"),D=$(".btn_rank"),E=$(".btn_restart"),F=$("#rank"),G=F.find("ul"),H=$("#myRank"),I=$("#myScore"),J=$(".myBestScore"),K=$(".ruleBox"),L={goAwaySpeed:700,waitTime:500},M={beforeLoad:"万达加速中...",loaded:"万达加速已完成。载入中。。。"},Q=[],R=[],S=0,T=0,U=0,V=!1,W=!1,Y=!1,_=!1,ab=0,eb={fix:function(a,b,c){return b=b||3,isNaN(a)?a:c?Number(a).toFixed(b):Number(Number(a).toFixed(b))},"int":function(a){return parseInt(a)},cx:function(a,b){var c,d;return(c=/(right)_*(.*)/.exec(a))?d=eb.fix(g-b-Math.round(c[2])):(c=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(a))&&(d=eb.fix((g-b)/2+Math.round(c[1])-Math.round(c[3]))),d},cy:function(a,b){var c,d;return(c=/(bottom)_*(.*)/.exec(a))?d=eb.fix(h-b-Math.round(c[2])):(c=/(\d*\.*\d*)_*(center)_*(\d*\.*\d*)/.exec(a))&&(d=eb.fix((h-b)/2+Math.round(c[1])-Math.round(c[3]))),d}},fb=!1,gb=!1,hb=!1,check.mobile?(ib(),fb=gb,gb?(hb=!0,$log({title:"请开启手机和微信通用设置中的重力感应，切换成横屏之后点击确定，享受游戏体验。<br>或点击确定直接开始游戏！"},function(a){load(),fb=gb,a&&!gb?setTimeout(function(){g=$(window).width(),h=$(window).height(),load_h(),cb()},500):setTimeout(function(){g=$(window).width(),h=eb.int(g/1.575),n.height(h),$("html").css({height:h,minHeight:h}),load_h(),cb()},500)})):(load(),setTimeout(function(){g=$(window).width(),h=$(window).height(),load_h(),cb()},500)),window.addEventListener(window.onorientationchange?"orientationchange":"resize",jb,!1)):(fb=!1,g=$(window).width(),h=$(window).height(),cb()),Bb=[],Vb=document.getElementById("bgmp3"),Wb=!1,$(document).on("touchstart",function(){Wb?Vb.play():Vb.paused!==!1&&(Vb.load(),Wb=!0,Vb.play()),$(document).unbind("touchstart")})}();